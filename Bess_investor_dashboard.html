<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BESS Interactive Investor Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Clean & Professional -->
    <!-- Application Structure Plan: The SPA is structured as a top-down analytical dashboard. It begins with a high-level introduction (The Opportunity), drills into operational specifics (Revenue Streams), then into interactive financial modeling (Metrics & Analysis), and concludes with a detailed risk-assessment framework (Due Diligence). This structure mirrors a typical investment analysis workflow, making it intuitive for the target audience of financial analysts. The user flow is primarily linear scrolling, with a sticky navigation header for quick access to sections. Key interactions include an interactive NPV sensitivity calculator with sliders and tabbed content for the detailed due diligence checklist, allowing users to explore complex data without being overwhelmed. This design was chosen for its clarity, usability, and ability to translate a dense report into an engaging, explorable tool. -->
    <!-- Visualization & Content Choices: 
        - BESS Opportunity: Goal: Inform. Method: Large headline stats. Justification: Immediately grabs attention and establishes the market scale.
        - Intraday Price Volatility (Visual 1): Goal: Change. Viz: Line Chart (Chart.js). Interaction: Tooltips on hover. Justification: Clearly illustrates the core principle of arbitrage over a 24-hour period.
        - Revenue Stacking (Visual 2): Goal: Compare. Viz: Stacked Bar Chart (Chart.js). Interaction: Tooltips. Justification: Effectively shows the composition of total revenue, highlighting the importance of multiple streams.
        - NPV Sensitivity Analysis (Visual 3): Goal: Relationships. Method: Interactive Sliders + Dynamic Text. Interaction: User adjusts sliders for key variables (Price, Cycles, CAPEX) to see real-time NPV changes. Justification: Provides a powerful, hands-on tool for understanding financial risk and the impact of key assumptions, far more effective than a static table.
        - Battery Degradation (Visual 4): Goal: Change. Viz: Line Chart (Chart.js). Interaction: Tooltips. Justification: Visualizes the long-term asset performance, crucial for lifetime revenue projections.
        - Due Diligence Checklist: Goal: Organize. Method: Tabbed Interface (HTML/CSS/JS). Interaction: Clicking tabs reveals content. Justification: Organizes a large amount of detailed text into manageable, thematic sections (Technical, Financial, Regulatory), preventing information overload. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #212529;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .nav-link.active {
            color: #0D6EFD;
            font-weight: 600;
            border-bottom: 2px solid #0D6EFD;
        }
        .tab-btn.active {
            background-color: #0D6EFD;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #0D6EFD;
            cursor: pointer;
            border-radius: 50%;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #0D6EFD;
            cursor: pointer;
            border-radius: 50%;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-gray-800">BESS Investor Dashboard</div>
            <div id="nav-menu" class="hidden md:flex items-center space-x-8">
                <a href="#opportunity" class="text-gray-600 hover:text-blue-600 nav-link">Opportunity</a>
                <a href="#revenue" class="text-gray-600 hover:text-blue-600 nav-link">Revenue</a>
                <a href="#metrics" class="text-gray-600 hover:text-blue-600 nav-link">Metrics</a>
                <a href="#diligence" class="text-gray-600 hover:text-blue-600 nav-link">Diligence</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="opportunity" class="py-20 md:py-32 text-center bg-white">
            <div class="container mx-auto px-6">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-4">The Strategic Investor's Guide to BESS</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-4xl mx-auto mb-12">An interactive dashboard providing a strategic framework for evaluating, analyzing, and conducting due diligence on Battery Energy Storage Systems (BESS) investment opportunities in the evolving energy landscape.</p>
                <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-4xl font-bold text-blue-600">1,000+ GW</h3>
                        <p class="text-gray-600 mt-2">Projected Global Energy Storage by 2040</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                         <h3 class="text-4xl font-bold text-blue-600">12-18%</h3>
                        <p class="text-gray-600 mt-2">Typical Target Project IRR</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg">
                         <h3 class="text-4xl font-bold text-blue-600">$150B+</h3>
                        <p class="text-gray-600 mt-2">Annual Investment in Grid Modernization</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="revenue" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Understanding BESS Revenue Streams</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">A project's profitability relies on "revenue stacking," combining multiple income sources. This chart illustrates a typical breakdown, while the cards below detail each stream. The ability to effectively stack these revenues is a key differentiator in a successful BESS project.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg mb-16">
                    <div class="chart-container">
                        <canvas id="revenueStackingChart"></canvas>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold mb-2">‚ö°Ô∏è Intraday Arbitrage</h3>
                        <p class="text-gray-600">The core revenue source. BESS charges when electricity prices are low and discharges when prices are high. Success hinges on market volatility and accurate price forecasting.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold mb-2">‚öñÔ∏è Balancing Services</h3>
                        <p class="text-gray-600">Grid operators pay for fast-responding systems to maintain grid frequency and stability. BESS provides these "ancillary services" for a stable, contracted revenue stream.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold mb-2">üì¶ Capacity Markets</h3>
                        <p class="text-gray-600">Projects receive fixed, long-term payments for being available to supply power during peak stress on the grid, providing a predictable revenue floor for financing.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold mb-2">üîó Congestion Relief</h3>
                        <p class="text-gray-600">Strategically located BESS can alleviate bottlenecks in the grid's transmission lines, earning compensation from the grid operator for providing this localized relief.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold mb-2">‚òÄÔ∏è Firming & Shaping</h3>
                        <p class="text-gray-600">Co-located with renewables like solar, BESS stores excess energy and releases it later, creating a reliable and dispatchable resource, often secured by a long-term PPA.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="metrics" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Interactive Financial Metrics & Analysis</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Financial modeling for BESS is complex. Use the interactive calculator to see how key variables affect a project's Net Present Value (NPV). The charts below illustrate other critical concepts for a comprehensive analysis.</p>
                </div>

                <div class="bg-gray-50 p-8 rounded-lg shadow-xl mb-16">
                    <h3 class="text-2xl font-bold text-center mb-6">NPV Sensitivity Analysis Calculator</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="space-y-6">
                            <div>
                                <label for="wholesalePrice" class="block font-medium mb-1">Avg. Wholesale Price (‚Ç¨/MWh): <span id="wholesalePriceValue" class="font-bold text-blue-600">50</span></label>
                                <input type="range" id="wholesalePrice" min="20" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                            <div>
                                <label for="dailyCycles" class="block font-medium mb-1">Daily Cycles: <span id="dailyCyclesValue" class="font-bold text-blue-600">1.0</span></label>
                                <input type="range" id="dailyCycles" min="0.5" max="1.5" value="1" step="0.1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                            <div>
                                <label for="initialCapex" class="block font-medium mb-1">Initial CAPEX (M ‚Ç¨): <span id="initialCapexValue" class="font-bold text-blue-600">20</span></label>
                                <input type="range" id="initialCapex" min="15" max="30" value="20" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                        </div>
                        <div class="text-center bg-white p-8 rounded-lg shadow-inner">
                            <h4 class="text-lg font-semibold text-gray-600">Projected Net Present Value (NPV)</h4>
                            <p id="npvResult" class="text-5xl font-bold text-gray-800 my-4">‚Ç¨5.10M</p>
                            <p id="npvScenario" class="text-gray-500">Base Case Scenario</p>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <div class="bg-gray-50 p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-semibold text-center mb-4">Intraday Price Volatility & BESS Operation</h3>
                        <p class="text-center text-gray-600 mb-4 text-sm">Illustrates the "duck curve" where BESS charges during low-cost midday periods and discharges during high-cost evening peaks.</p>
                        <div class="chart-container" style="height:350px;">
                            <canvas id="priceVolatilityChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-semibold text-center mb-4">Projected Battery Degradation Curve</h3>
                        <p class="text-center text-gray-600 mb-4 text-sm">Shows the gradual loss of capacity over the system's lifespan, a critical factor for long-term revenue forecasting.</p>
                        <div class="chart-container" style="height:350px;">
                            <canvas id="degradationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="diligence" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Comprehensive Due Diligence Checklist</h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">A rigorous, multi-faceted due diligence process is non-negotiable. Use this checklist to navigate the technical, financial, and regulatory complexities of a BESS investment.</p>
                </div>
                <div class="max-w-4xl mx-auto">
                    <div class="flex border-b border-gray-300 mb-6">
                        <button class="tab-btn py-2 px-6 font-semibold text-gray-600 focus:outline-none active" data-tab="technical">Technical</button>
                        <button class="tab-btn py-2 px-6 font-semibold text-gray-600 focus:outline-none" data-tab="financial">Financial</button>
                        <button class="tab-btn py-2 px-6 font-semibold text-gray-600 focus:outline-none" data-tab="regulatory">Regulatory</button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-lg">
                        <div id="technical" class="tab-content active">
                            <ul class="space-y-4 text-gray-700 list-disc list-inside">
                                <li><strong>Technology Selection:</strong> Evaluate battery chemistry (NMC vs. LFP), supplier track record, and system round-trip efficiency.</li>
                                <li><strong>Siting & Interconnection:</strong> Verify grid connection point capacity, associated costs, and proximity to grid congestion areas.</li>
                                <li><strong>Degradation & Warranty:</strong> Review the projected degradation curve against the manufacturer's warranty terms to ensure long-term performance.</li>
                                <li><strong>Fire & Safety Protocols:</strong> Thoroughly assess fire suppression systems, enclosure design, and emergency response coordination.</li>
                            </ul>
                        </div>
                         <div id="financial" class="tab-content">
                            <ul class="space-y-4 text-gray-700 list-disc list-inside">
                                <li><strong>Revenue Assumptions:</strong> Scrutinize market price forecasts and assumed daily cycle counts, preferably validated by a third-party study.</li>
                                <li><strong>CAPEX & OPEX Breakdown:</strong> Obtain a detailed breakdown of all costs, including land, construction, insurance, maintenance, and software.</li>
                                <li><strong>Financing & Funding:</strong> Confirm terms of project financing, including government grants, subsidies, or tax incentives and their conditions.</li>
                            </ul>
                        </div>
                         <div id="regulatory" class="tab-content">
                            <ul class="space-y-4 text-gray-700 list-disc list-inside">
                                <li><strong>Permitting:</strong> Verify that all necessary permits (local, regional, national) are secured or have a clear path to approval.</li>
                                <li><strong>Market Rules:</strong> Understand the jurisdiction-specific rules for arbitrage, balancing services, and capacity markets, and assess risks of future changes.</li>
                                <li><strong>Contract Review:</strong> Examine all key contracts, including EPC, O&M, and any PPAs, to understand liabilities and long-term revenue commitments.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 BESS Investor Dashboard. For informational purposes only.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const chartTooltipCallback = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    }
                }
            };
            
            const revenueCtx = document.getElementById('revenueStackingChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'bar',
                data: {
                    labels: ['Projected Annual Revenue'],
                    datasets: [
                        { label: 'Intraday Arbitrage', data: [45], backgroundColor: '#0D6EFD' },
                        { label: 'Balancing Services', data: [30], backgroundColor: '#6C757D' },
                        { label: 'Capacity Markets', data: [25], backgroundColor: '#198754' }
                    ]
                },
                options: {
                    ...chartTooltipCallback,
                    maintainAspectRatio: false,
                    responsive: true,
                    scales: { x: { stacked: true }, y: { stacked: true, ticks: { callback: value => `${value}%` } } },
                    plugins: { ...chartTooltipCallback.plugins, legend: { position: 'bottom' } }
                }
            });

            const priceCtx = document.getElementById('priceVolatilityChart').getContext('2d');
            new Chart(priceCtx, {
                type: 'line',
                data: {
                    labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'],
                    datasets: [{
                        label: 'Hourly Price (‚Ç¨/MWh)',
                        data: [30, 28, 25, 24, 23, 25, 35, 45, 50, 52, 53, 40, 25, 22, 20, 24, 40, 60, 85, 90, 80, 65, 50, 40],
                        borderColor: '#0D6EFD',
                        backgroundColor: 'rgba(13, 110, 253, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: { ...chartTooltipCallback, maintainAspectRatio: false, responsive: true }
            });

            const degradationCtx = document.getElementById('degradationChart').getContext('2d');
            new Chart(degradationCtx, {
                type: 'line',
                data: {
                    labels: Array.from({ length: 16 }, (_, i) => `Year ${i}`),
                    datasets: [{
                        label: 'Capacity Retention (%)',
                        data: [100, 98, 96.5, 95, 93.5, 92, 90.5, 89, 87.5, 86, 84.5, 83, 81.5, 80, 78.5, 77],
                        borderColor: '#198754',
                        backgroundColor: 'rgba(25, 135, 84, 0.1)',
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: { ...chartTooltipCallback, maintainAspectRatio: false, responsive: true }
            });

            const wholesalePriceSlider = document.getElementById('wholesalePrice');
            const dailyCyclesSlider = document.getElementById('dailyCycles');
            const initialCapexSlider = document.getElementById('initialCapex');
            const npvResult = document.getElementById('npvResult');
            const npvScenario = document.getElementById('npvScenario');

            function updateNPV() {
                const price = parseFloat(wholesalePriceSlider.value);
                const cycles = parseFloat(dailyCyclesSlider.value);
                const capex = parseFloat(initialCapexSlider.value);

                document.getElementById('wholesalePriceValue').textContent = price;
                document.getElementById('dailyCyclesValue').textContent = cycles.toFixed(1);
                document.getElementById('initialCapexValue').textContent = capex;
                
                const baseNpv = 5.1;
                const priceSensitivity = (price - 50) / 30; 
                const cycleSensitivity = (cycles - 1) / 0.5;
                const capexSensitivity = (20 - capex) / 5;

                let calculatedNpv = baseNpv + (priceSensitivity * 7) + (cycleSensitivity * 2) + (capexSensitivity * 3);
                npvResult.textContent = `‚Ç¨${calculatedNpv.toFixed(2)}M`;
                
                if (calculatedNpv > 7) npvScenario.textContent = 'Optimistic Scenario';
                else if (calculatedNpv < 3) npvScenario.textContent = 'Pessimistic Scenario';
                else npvScenario.textContent = 'Base Case Scenario';
            }

            [wholesalePriceSlider, dailyCyclesSlider, initialCapexSlider].forEach(slider => {
                slider.addEventListener('input', updateNPV);
            });

            const tabs = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const target = tab.getAttribute('data-tab');
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === target) {
                            content.classList.add('active');
                        }
                    });
                });
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                        });
                    }
                });
            }, { rootMargin: '-50% 0px -50% 0px', threshold: 0 });
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>
